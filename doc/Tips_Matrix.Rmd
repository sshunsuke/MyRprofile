---
title: "Tips_Matrix"
author: "Shunsuke"
date: '`r format(Sys.time(), "%y/%m/%d %H:%M")`'
output: 
  html_document:
    toc: true
    toc_float: 
      collapsed: false
      smooth_scroll: false
    number_section: true
    theme: spacelab
    highlight: zenburn
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, collapse=TRUE, prompt=TRUE)
```

# What is matrix in R?

> Matrix is a two dimensional data structure in R programming.
> Matrix is similar to vector but additionally contains the dimension attribute. All attributes of an object can be checked with the **attributes()** function (dimension can be checked directly with the dim() function).
> We can check if a variable is a matrix or not with the **class()** function.

https://www.datamentor.io/r-programming/matrix/

Other important characters are listed below.

* As with vector, all elements have a same data type
* The data type can be checked by **typeof()**

```{r, collapse=TRUE}
m <- matrix(1:12, 3)
attributes(m)
class(m)
typeof(m)
c(is.matrix(m), is.vector(m))
c(is.integer(m), is.logical(m), is.double(m))
```


----

# Functions & syntax sugar

## Create a matrix {.tabset}

* matrix()
* cbind()
* rbind()
* diag()

### Simplest ways

```{r}
matrix(1:12, 3)
matrix(1:12, ncol=4)
matrix(1:12, 3, byrow=TRUE)
cbind(1:3, 4:6, 7:9, 10:12)
rbind(c(1,4,7,10), c(2,5,8,11), c(3,6,9,12))
```

### Useful functions

```{r}
diag(3)    # 3 x 3 Identity matrix
diag(1:3)  # 3 x 3 diagonal matrix
```


## Get elements or properties {.tabset}

* m[row,col]
* nrow()
* ncol()
* dim()
* typeof()
* rownames()
* colmatnames()


```{r}
m <- matrix(1:12, 3, byrow=TRUE)
```

$m = \begin{pmatrix} 1 & 2 & 3 & 4 \\ 5 & 6 & 7 & 8 \\ 9 & 10 & 11 & 12 \end{pmatrix}$

### Elements

```{r}
m[2,3]            # Specify single element
m[1,]             # Specify single row (vector)
m[c(1,3),]        # Specify multiple rows
m[2:nrow(m),]
m[, 1:3]          # Specify multiple columns
m[,2:ncol(m)]
m[2:3, c(2,4)]    # Specify multiple rows and columns
```


### Demension or type

```{r}
nrow(m)
ncol(m)
dim(m)
typeof(m)
```

### Label

```{r}
rownames(m) <- c("r1", "r2", "r3")
rownames(m)
colnames(m) <- c("c1", "c2", "c3", "c4")
colnames(m)
```


## Edit Matrix {.tabset}

```{r}
m1 <- matrix(1:4, 2, byrow=TRUE)
m2 <- matrix(1:4*10, 2, byrow=TRUE)
```

$m1 = \begin{pmatrix} 1 & 2 \\ 3 & 4 \end{pmatrix}, \ \ m2 = \begin{pmatrix} 10 & 20 \\ 30 & 40 \end{pmatrix}$

### Concatenate

```{r}
cbind(m1, m2)
cbind(m1, c(100,200))
rbind(m1, m2)
rbind(m1, c(100,200))
```

----

## Algebraic calculation {.tabset}

```{r}
m1 <- matrix(1:9, 3, byrow=TRUE)
m2 <- matrix(1:9*10, 3, byrow=TRUE)
```

$m1 = \begin{pmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{pmatrix}, \ \ m2 = \begin{pmatrix} 10 & 20 & 30 \\ 40 & 50 & 60 \\ 70 & 80 & 90 \end{pmatrix}$

### Basic

```{r}
# Addition
m1 + m2
# Scalar multiplication 
100 * m1
# 
m1 %*% m2
```

$m1 m2 = \begin{pmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{pmatrix} \begin{pmatrix} 10 & 20 & 30 \\ 40 & 50 & 60 \\ 70 & 80 & 90 \end{pmatrix} = \begin{pmatrix} 10 + 80 + 210 & 20 + 100 + 240 & 30 + 120 + 270\\ 40 + 200 + 420 & 80 + 250 + 480 & 120 + 300 + 540 \\ 70 + 320 + 630 & 140 + 400 + 720 & 210 + 480 + 810 \end{pmatrix}$

### Matrix

```{r}
det(m1)
```


----

## Get elements

* mat[row,col]
* mat[row,]
* mat[,col]

**Examples:**

$m = \begin{pmatrix} 1 & 4 & 7 & 10 \\ 2 & 5 & 8 & 11 \\ 3 & 6 & 9 & 12 \end{pmatrix}$

```{r}
m <- matrix(1:12, 3)
m[2,3]
m[1,]
m[c(1,3),]
m[2:nrow(m),]
m[, 1:3]          # (1列目 ～ 3列目)
m[,2:ncol(m)]   # (2列目から最後の列まで)
m[2:3, c(2,4)]    # (2行目・3行目 の 2列目と4列目の要素)
```



